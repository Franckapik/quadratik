<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Boutique Quadratik.fr</title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src="https://www.paypalobjects.com/api/checkout.js"></script>
  <script src="https://checkout.stripe.com/checkout.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"></script>
  <script type="text/javascript" src="js/paypal.js"></script>
</head>

<body id="body_shop">

  <% include header.ejs %>

    <div class="shop_container">


      <div id="app">
        <div class="header">

          <h2>Boutique</h2>

          <!-- PANIER-->
          <div>
            <button @click="showCart = !showCart" v-show="!verified">
        {{ items.length + (items.length > 1 || items.length === 0 ? " items" : " item") }}
      </button>
          </div>
        </div>

        <div class="cart" v-show="showCart">
          <div v-show="items.length > 0">
            <ul>
              <li v-for="item in items" transition="fade">
                <p><strong>{{ item.quantity }}</strong> - {{ item.name }} <i class="fa fa-trash" @click="removeFromCart(item)"></i></p>
              </li>
            </ul>
            <div><button @click="verified = true, showCart = false">Passer la commande</button></div>
          </div>
          <div v-show="items.length === 0">
            <p>Votre panier est vide!</p>
          </div>
        </div>

        <!--  LISTE ARTICLES -->
        <div class="container">
          <div class="shop" v-show="!verified">
            <h3>Nouvelles collections</h3>
            <ul class="guide_liste">
              <li v-for="item in shop">
                <div>
                  <h5>{{ item.name }}</h5>
                  <p>{{ item.price }} €</p>
                  <img src="{{ item.img }}" alt="Affichage non disponible">
                  <button @click="addToCart(item)">Ajouter au panier</button>
                  <!-- TO DO : view details-->
                </div>
              </li>
            </ul>
          </div>

          <!-- CHECKOUT -->
          <div class="checkout" v-show="verified">
            <h3>Votre Panier</h3>
            <h5 v-for="item in items"><strong>{{ item.quantity }}</strong> - {{ item.name }}<span>${{ item.price * item.quantity }}</span></h5>
            <hr />
            <div class="row">
              <div class="u-pull-right">
                <h5>Total: <span>{{ total | currency }}</span></h5>
                <p></p>

                <div class="payment_solutions">
                  <!--Stripe-->
                  <button id="customButton"> Carte bancaire </button>

                  <!--Paypal-->
                  <a href="/buy"><button class="btn btn-warning btn-lg"> PayPal </button></a>

                  <!--Chèque-->
                  <button type="button" name="button_cheque" id="button_cheque"> Chèque Bancaire </button>
                </div>

              </div>
            </div>
          </div>
        </div>





      </div>
    </div>
</body>

<script type="text/javascript" src="js/articles.js"></script>
<script type="text/javascript" src="js/stripe.js"></script>


</html>
